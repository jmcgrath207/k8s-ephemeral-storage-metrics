name: k8s-ephemeral-storage-metrics
reprocVersion: 0.0.1

alias:
  # version what ever the git commit/tag is. This can not be changed.
  build_cmd: docker build -f ${file} . -t ${version}
  download: make download

hooks:
  pre:
    - name: Download and setup builder assets
      command: ${download}

images:
  - name: k8s-ephemeral-storage-metrics
    meta:
      distro: distroless
      distro_release: "distroless"
    build:
      command: ${build_cmd}
      file: Dockerfile
      path: git_root

  - name: k8s-ephemeral-storage-metrics-grow-test
    meta:
      distro: ubuntu
      distro_release: "22.04"
    build:
      command: ${build_cmd}
      file: DockerfileTestGrow
      path: git_root

  - name: k8s-ephemeral-storage-metrics-shrink-test
    meta:
      distro: ubuntu
      distro_release: "22.04"
    build:
      command: ${build_cmd}
      file: DockerfileTestShrink
      path: git_root
